{"ast":null,"code":"import _objectSpread from\"E:/projects/web/my-app/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Path: frontend/src/admin/pages/contacts/ContactList.jsx\nimport{useState}from'react';import{FiMail,FiTrash2,FiCornerUpLeft,FiCheck}from'react-icons/fi';// import { sendReplyEmail } from '../../../services/emailService'; // You'll need to implement this\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ContactList(){// Mock data - replace with API calls\nconst[messages,setMessages]=useState([{id:'msg_101',name:'Emma Johnson',email:'emma@example.com',message:'Do you have this ring in silver instead of gold?',date:'2023-06-15T14:30:00Z',replied:false},{id:'msg_102',name:'James Smith',email:'james@example.com',message:'How long does shipping take to Canada?',date:'2023-06-14T09:15:00Z',replied:true}]);const[replyingTo,setReplyingTo]=useState(null);const[replyContent,setReplyContent]=useState('');const[isSending,setIsSending]=useState(false);const handleReply=async messageId=>{setIsSending(true);try{// Replace with actual API call to send email\n//       await sendReplyEmail({\n//         to: messages.find(m => m.id === messageId).email,\n//         subject: 'Re: Your inquiry to JewelStore',\n//         content: replyContent\n//       });\n// Update message status\nsetMessages(messages.map(msg=>msg.id===messageId?_objectSpread(_objectSpread({},msg),{},{replied:true}):msg));setReplyingTo(null);setReplyContent('');}catch(error){console.error('Failed to send reply:',error);}finally{setIsSending(false);}};const handleDelete=messageId=>{if(window.confirm('Are you sure you want to delete this message?')){setMessages(messages.filter(msg=>msg.id!==messageId));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-rose-25 ml-64\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-serif font-bold text-rose-800\",children:\"Contact Messages\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-900/80\",children:\"Customer inquiries and responses\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-rose-800\",children:message.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-900\",children:message.email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-amber-900/60 mt-1\",children:new Date(message.date).toLocaleString()})]}),message.replied?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",children:[/*#__PURE__*/_jsx(FiCheck,{className:\"mr-1\"}),\" Replied\"]}):null]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-4 bg-rose-50 rounded-lg border border-rose-100\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-amber-900 whitespace-pre-line\",children:message.message})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3\",children:[!message.replied&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setReplyingTo(replyingTo===message.id?null:message.id),className:\"flex items-center gap-2 text-amber-600 hover:text-amber-800\",children:[/*#__PURE__*/_jsx(FiCornerUpLeft,{}),\" Reply\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDelete(message.id),className:\"flex items-center gap-2 text-rose-600 hover:text-rose-800\",children:[/*#__PURE__*/_jsx(FiTrash2,{}),\" Delete\"]})]}),replyingTo===message.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 pt-4 border-t border-rose-100\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-amber-900 text-sm font-medium mb-2\",children:[\"Reply to \",message.name]}),/*#__PURE__*/_jsx(\"textarea\",{value:replyContent,onChange:e=>setReplyContent(e.target.value),rows:4,className:\"w-full px-4 py-2 rounded-lg border border-rose-200 focus:ring-2 focus:ring-rose-300 focus:border-transparent mb-3\",placeholder:\"Type your response here...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setReplyingTo(null),className:\"px-4 py-2 border border-rose-200 text-amber-900 rounded-lg hover:bg-rose-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReply(message.id),className:\"px-4 py-2 bg-rose-700 text-white rounded-lg hover:bg-rose-800 flex items-center gap-2\",disabled:!replyContent.trim()||isSending,children:isSending?'Sending...':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiMail,{}),\" Send Reply\"]})})]})]})]})},message.id))})]});}","map":{"version":3,"names":["useState","FiMail","FiTrash2","FiCornerUpLeft","FiCheck","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ContactList","messages","setMessages","id","name","email","message","date","replied","replyingTo","setReplyingTo","replyContent","setReplyContent","isSending","setIsSending","handleReply","messageId","map","msg","_objectSpread","error","console","handleDelete","window","confirm","filter","className","children","Date","toLocaleString","onClick","value","onChange","e","target","rows","placeholder","disabled","trim"],"sources":["E:/projects/web/my-app/Frontend/src/admin/contacts/ContactList.jsx"],"sourcesContent":["// Path: frontend/src/admin/pages/contacts/ContactList.jsx\r\nimport { useState } from 'react';\r\nimport { FiMail, FiTrash2, FiCornerUpLeft, FiCheck } from 'react-icons/fi';\r\n// import { sendReplyEmail } from '../../../services/emailService'; // You'll need to implement this\r\n\r\nexport default function ContactList() {\r\n  // Mock data - replace with API calls\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: 'msg_101',\r\n      name: 'Emma Johnson',\r\n      email: 'emma@example.com',\r\n      message: 'Do you have this ring in silver instead of gold?',\r\n      date: '2023-06-15T14:30:00Z',\r\n      replied: false\r\n    },\r\n    {\r\n      id: 'msg_102',\r\n      name: 'James Smith',\r\n      email: 'james@example.com',\r\n      message: 'How long does shipping take to Canada?',\r\n      date: '2023-06-14T09:15:00Z',\r\n      replied: true\r\n    }\r\n  ]);\r\n\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  const [replyContent, setReplyContent] = useState('');\r\n  const [isSending, setIsSending] = useState(false);\r\n\r\n  const handleReply = async (messageId) => {\r\n    setIsSending(true);\r\n    try {\r\n      // Replace with actual API call to send email\r\n//       await sendReplyEmail({\r\n//         to: messages.find(m => m.id === messageId).email,\r\n//         subject: 'Re: Your inquiry to JewelStore',\r\n//         content: replyContent\r\n//       });\r\n      \r\n      // Update message status\r\n      setMessages(messages.map(msg => \r\n        msg.id === messageId ? { ...msg, replied: true } : msg\r\n      ));\r\n      \r\n      setReplyingTo(null);\r\n      setReplyContent('');\r\n    } catch (error) {\r\n      console.error('Failed to send reply:', error);\r\n    } finally {\r\n      setIsSending(false);\r\n    }\r\n  };\r\n\r\n  const handleDelete = (messageId) => {\r\n    if (window.confirm('Are you sure you want to delete this message?')) {\r\n      setMessages(messages.filter(msg => msg.id !== messageId));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-rose-25 ml-64\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-2xl font-serif font-bold text-rose-800\">Contact Messages</h1>\r\n        <p className=\"text-amber-900/80\">Customer inquiries and responses</p>\r\n      </div>\r\n\r\n      {/* Messages List */}\r\n      <div className=\"space-y-4\">\r\n        {messages.map((message) => (\r\n          <div key={message.id} className=\"bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden\">\r\n            <div className=\"p-6\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-rose-800\">{message.name}</h3>\r\n                  <p className=\"text-amber-900\">{message.email}</p>\r\n                  <p className=\"text-xs text-amber-900/60 mt-1\">\r\n                    {new Date(message.date).toLocaleString()}\r\n                  </p>\r\n                </div>\r\n                {message.replied ? (\r\n                  <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n                    <FiCheck className=\"mr-1\" /> Replied\r\n                  </span>\r\n                ) : null}\r\n              </div>\r\n              \r\n              <div className=\"mb-4 p-4 bg-rose-50 rounded-lg border border-rose-100\">\r\n                <p className=\"text-amber-900 whitespace-pre-line\">{message.message}</p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end gap-3\">\r\n                {!message.replied && (\r\n                  <button\r\n                    onClick={() => setReplyingTo(replyingTo === message.id ? null : message.id)}\r\n                    className=\"flex items-center gap-2 text-amber-600 hover:text-amber-800\"\r\n                  >\r\n                    <FiCornerUpLeft /> Reply\r\n                  </button>\r\n                )}\r\n                <button\r\n                  onClick={() => handleDelete(message.id)}\r\n                  className=\"flex items-center gap-2 text-rose-600 hover:text-rose-800\"\r\n                >\r\n                  <FiTrash2 /> Delete\r\n                </button>\r\n              </div>\r\n\r\n              {/* Reply Form (conditionally shown) */}\r\n              {replyingTo === message.id && (\r\n                <div className=\"mt-6 pt-4 border-t border-rose-100\">\r\n                  <label className=\"block text-amber-900 text-sm font-medium mb-2\">\r\n                    Reply to {message.name}\r\n                  </label>\r\n                  <textarea\r\n                    value={replyContent}\r\n                    onChange={(e) => setReplyContent(e.target.value)}\r\n                    rows={4}\r\n                    className=\"w-full px-4 py-2 rounded-lg border border-rose-200 focus:ring-2 focus:ring-rose-300 focus:border-transparent mb-3\"\r\n                    placeholder=\"Type your response here...\"\r\n                  />\r\n                  <div className=\"flex justify-end gap-3\">\r\n                    <button\r\n                      onClick={() => setReplyingTo(null)}\r\n                      className=\"px-4 py-2 border border-rose-200 text-amber-900 rounded-lg hover:bg-rose-50\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleReply(message.id)}\r\n                      className=\"px-4 py-2 bg-rose-700 text-white rounded-lg hover:bg-rose-800 flex items-center gap-2\"\r\n                      disabled={!replyContent.trim() || isSending}\r\n                    >\r\n                      {isSending ? 'Sending...' : (\r\n                        <>\r\n                          <FiMail /> Send Reply\r\n                        </>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}