{"ast":null,"code":"var _jsxFileName = \"E:\\\\freelance\\\\react learnings\\\\my-app\\\\Frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\n// Cart.js - Fully Dynamic React Component\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const userId = localStorage.getItem(\"userId\");\n  const token = localStorage.getItem(\"userToken\");\n  const fetchCart = async () => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\n        method: \"GET\",\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      setCartItems(data.products || []);\n    } catch (err) {\n      console.error(\"Error fetching cart\", err);\n    }\n  };\n  useEffect(() => {\n    fetchCart();\n  }, []);\n  const updateCart = async (productId, action) => {\n    await fetch(\"http://localhost:5000/api/cart/update\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        userId,\n        productId,\n        action\n      })\n    });\n    fetchCart(); // Ensure latest cart state is fetched\n  };\n  const removeItem = async productId => {\n    await fetch(\"http://localhost:5000/api/cart/remove\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        userId,\n        productId\n      })\n    });\n    fetchCart(); // Ensure latest cart state is fetched\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [item.product.name, \" - $\", item.product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"decrease\"),\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"increase\"),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeItem(item.product._id),\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 41\n      }, this)]\n    }, item.product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 33\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 17\n  }, this);\n};\n_s(Cart, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Cart","_s","cartItems","setCartItems","userId","localStorage","getItem","token","fetchCart","res","fetch","method","headers","data","json","products","err","console","error","updateCart","productId","action","body","JSON","stringify","removeItem","children","map","item","product","name","price","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_id","quantity","_c","$RefreshReg$"],"sources":["E:/freelance/react learnings/my-app/Frontend/src/pages/Cart.js"],"sourcesContent":["\r\n// Cart.js - Fully Dynamic React Component\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst Cart = () => {\r\n        const [cartItems, setCartItems] = useState([]);\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const token = localStorage.getItem(\"userToken\");\r\n\r\n        const fetchCart = async () => {\r\n                try {\r\n                        const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\r\n                                method: \"GET\",\r\n                                headers: { \"Authorization\": `Bearer ${token}` }\r\n                        });\r\n                        const data = await res.json();\r\n                        setCartItems(data.products || []);\r\n                } catch (err) {\r\n                        console.error(\"Error fetching cart\", err);\r\n                }\r\n        };\r\n\r\n        useEffect(() => {\r\n                fetchCart();\r\n        }, []);\r\n\r\n        const updateCart = async (productId, action) => {\r\n                await fetch(\"http://localhost:5000/api/cart/update\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\r\n                        body: JSON.stringify({ userId, productId, action })\r\n                });\r\n                fetchCart(); // Ensure latest cart state is fetched\r\n        };\r\n\r\n        const removeItem = async (productId) => {\r\n                await fetch(\"http://localhost:5000/api/cart/remove\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\r\n                        body: JSON.stringify({ userId, productId })\r\n                });\r\n                fetchCart(); // Ensure latest cart state is fetched\r\n        };\r\n\r\n        return (\r\n                <div>\r\n                        {cartItems.map(item => (\r\n                                <div key={item.product._id}>\r\n                                        <h3>{item.product.name} - ${item.product.price}</h3>\r\n                                        <button onClick={() => updateCart(item.product._id, \"decrease\")}>-</button>\r\n                                        <span>{item.quantity}</span>\r\n                                        <button onClick={() => updateCart(item.product._id, \"increase\")}>+</button>\r\n                                        <button onClick={() => removeItem(item.product._id)}>Remove</button>\r\n                                </div>\r\n                        ))}\r\n                </div>\r\n        );\r\n};\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}