{"ast":null,"code":"var _jsxFileName = \"E:\\\\freelance\\\\react learnings\\\\my-app\\\\Frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\n// Cart.js - Updated (React Component)\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const userId = localStorage.getItem(\"userId\");\n  const token = localStorage.getItem(\"userToken\");\n  useEffect(() => {\n    const fetchCart = async () => {\n      try {\n        const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\n          method: \"GET\",\n          headers: {\n            \"Authorization\": `Bearer ${token}`\n          }\n        });\n        const data = await res.json();\n        setCartItems(data.products || []);\n      } catch (err) {\n        console.error(\"Error fetching cart\", err);\n      }\n    };\n    fetchCart();\n  }, [userId, token]);\n  const updateCart = async (productId, action) => {\n    await fetch(\"http://localhost:5000/api/cart/update\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        userId,\n        productId,\n        action\n      })\n    });\n    setCartItems(cartItems.map(item => item.product._id === productId ? {\n      ...item,\n      quantity: action === \"increase\" ? item.quantity + 1 : item.quantity - 1\n    } : item));\n  };\n  const removeItem = async productId => {\n    await fetch(\"http://localhost:5000/api/cart/remove\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        userId,\n        productId\n      })\n    });\n    setCartItems(cartItems.filter(item => item.product._id !== productId));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [item.product.name, \" - $\", item.product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"decrease\"),\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"increase\"),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 41\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeItem(item.product._id),\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 41\n      }, this)]\n    }, item.product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 33\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 17\n  }, this);\n};\n_s(Cart, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Cart","_s","cartItems","setCartItems","userId","localStorage","getItem","token","fetchCart","res","fetch","method","headers","data","json","products","err","console","error","updateCart","productId","action","body","JSON","stringify","map","item","product","_id","quantity","removeItem","filter","children","name","price","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["E:/freelance/react learnings/my-app/Frontend/src/pages/Cart.js"],"sourcesContent":["\r\n// Cart.js - Updated (React Component)\r\nimport React, { useState, useEffect } from \"react\";\r\nconst Cart = () => {\r\n        const [cartItems, setCartItems] = useState([]);\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const token = localStorage.getItem(\"userToken\");\r\n\r\n        useEffect(() => {\r\n                const fetchCart = async () => {\r\n                        try {\r\n                                const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\r\n                                        method: \"GET\",\r\n                                        headers: { \"Authorization\": `Bearer ${token}` }\r\n                                });\r\n                                const data = await res.json();\r\n                                setCartItems(data.products || []);\r\n                        } catch (err) {\r\n                                console.error(\"Error fetching cart\", err);\r\n                        }\r\n                };\r\n                fetchCart();\r\n        }, [userId, token]);\r\n\r\n        const updateCart = async (productId, action) => {\r\n                await fetch(\"http://localhost:5000/api/cart/update\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\r\n                        body: JSON.stringify({ userId, productId, action })\r\n                });\r\n                setCartItems(cartItems.map(item => item.product._id === productId ?\r\n                        { ...item, quantity: action === \"increase\" ? item.quantity + 1 : item.quantity - 1 } : item));\r\n        };\r\n\r\n        const removeItem = async (productId) => {\r\n                await fetch(\"http://localhost:5000/api/cart/remove\", {\r\n                        method: \"POST\",\r\n                        headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\r\n                        body: JSON.stringify({ userId, productId })\r\n                });\r\n                setCartItems(cartItems.filter(item => item.product._id !== productId));\r\n        };\r\n\r\n        return (\r\n                <div>\r\n                        {cartItems.map(item => (\r\n                                <div key={item.product._id}>\r\n                                        <h3>{item.product.name} - ${item.product.price}</h3>\r\n                                        <button onClick={() => updateCart(item.product._id, \"decrease\")}>-</button>\r\n                                        <span>{item.quantity}</span>\r\n                                        <button onClick={() => updateCart(item.product._id, \"increase\")}>+</button>\r\n                                        <button onClick={() => removeItem(item.product._id)}>Remove</button>\r\n                                </div>\r\n                        ))}\r\n                </div>\r\n        );\r\n};\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}