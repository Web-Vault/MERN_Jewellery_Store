{"ast":null,"code":"var _jsxFileName = \"E:\\\\freelance\\\\react learnings\\\\my-app\\\\Frontend\\\\src\\\\pages\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const [cartItems, setCartItems] = useState([]);\n  const userId = localStorage.getItem(\"userId\");\n  const token = localStorage.getItem(\"userToken\");\n  const fetchCart = async () => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to fetch cart\");\n      const data = await res.json();\n      setCartItems(data.products || []);\n    } catch (err) {\n      console.error(\"Error fetching cart:\", err);\n    }\n  };\n  useEffect(() => {\n    if (userId && token) {\n      fetchCart();\n    }\n  }, [userId, token]);\n  const updateCart = async (productId, action) => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/cart/${action}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          userId,\n          productId\n        })\n      });\n      if (!res.ok) throw new Error(\"Failed to update cart\");\n      fetchCart(); // Refresh cart data\n    } catch (err) {\n      console.error(\"Error updating cart:\", err);\n    }\n  };\n  const removeItem = async productId => {\n    try {\n      const res = await fetch(\"http://localhost:5000/api/cart/remove\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          userId,\n          productId\n        })\n      });\n      if (!res.ok) throw new Error(\"Failed to remove item\");\n      fetchCart(); // Refresh cart data\n    } catch (err) {\n      console.error(\"Error removing item:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Your cart is empty.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 33\n    }, this) : cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [item.product.name, \" - $\", item.product.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"decrease\"),\n        disabled: item.quantity <= 1,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: item.quantity\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => updateCart(item.product._id, \"increase\"),\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 49\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeItem(item.product._id),\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 49\n      }, this)]\n    }, item.product._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 41\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 17\n  }, this);\n};\n_s(Cart, \"yMyLm0mTOdUD4xRL2vnEhQFbjeY=\");\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Cart","_s","cartItems","setCartItems","userId","localStorage","getItem","token","fetchCart","res","fetch","method","headers","ok","Error","data","json","products","err","console","error","updateCart","productId","action","body","JSON","stringify","removeItem","children","length","fileName","_jsxFileName","lineNumber","columnNumber","map","item","product","name","price","onClick","_id","disabled","quantity","_c","$RefreshReg$"],"sources":["E:/freelance/react learnings/my-app/Frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nconst Cart = () => {\r\n        const [cartItems, setCartItems] = useState([]);\r\n        const userId = localStorage.getItem(\"userId\");\r\n        const token = localStorage.getItem(\"userToken\");\r\n\r\n        const fetchCart = async () => {\r\n                try {\r\n                        const res = await fetch(`http://localhost:5000/api/cart/${userId}`, {\r\n                                method: \"GET\",\r\n                                headers: {\r\n                                        \"Content-Type\": \"application/json\",\r\n                                        \"Authorization\": `Bearer ${token}`\r\n                                }\r\n                        });\r\n                        if (!res.ok) throw new Error(\"Failed to fetch cart\");\r\n                        const data = await res.json();\r\n                        setCartItems(data.products || []);\r\n                } catch (err) {\r\n                        console.error(\"Error fetching cart:\", err);\r\n                }\r\n        };\r\n\r\n        useEffect(() => {\r\n                if (userId && token) {\r\n                        fetchCart();\r\n                }\r\n        }, [userId, token]);\r\n\r\n        const updateCart = async (productId, action) => {\r\n                try {\r\n                        const res = await fetch(`http://localhost:5000/api/cart/${action}`, {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                        \"Content-Type\": \"application/json\",\r\n                                        \"Authorization\": `Bearer ${token}`\r\n                                },\r\n                                body: JSON.stringify({ userId, productId })\r\n                        });\r\n                        if (!res.ok) throw new Error(\"Failed to update cart\");\r\n                        fetchCart(); // Refresh cart data\r\n                } catch (err) {\r\n                        console.error(\"Error updating cart:\", err);\r\n                }\r\n        };\r\n\r\n        const removeItem = async (productId) => {\r\n                try {\r\n                        const res = await fetch(\"http://localhost:5000/api/cart/remove\", {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                        \"Content-Type\": \"application/json\",\r\n                                        \"Authorization\": `Bearer ${token}`\r\n                                },\r\n                                body: JSON.stringify({ userId, productId })\r\n                        });\r\n                        if (!res.ok) throw new Error(\"Failed to remove item\");\r\n                        fetchCart(); // Refresh cart data\r\n                } catch (err) {\r\n                        console.error(\"Error removing item:\", err);\r\n                }\r\n        };\r\n\r\n        return (\r\n                <div>\r\n                        {cartItems.length === 0 ? (\r\n                                <p>Your cart is empty.</p>\r\n                        ) : (\r\n                                cartItems.map(item => (\r\n                                        <div key={item.product._id}>\r\n                                                <h3>{item.product.name} - ${item.product.price}</h3>\r\n                                                <button onClick={() => updateCart(item.product._id, \"decrease\")} disabled={item.quantity <= 1}>-</button>\r\n                                                <span>{item.quantity}</span>\r\n                                                <button onClick={() => updateCart(item.product._id, \"increase\")}>+</button>\r\n                                                <button onClick={() => removeItem(item.product._id)}>Remove</button>\r\n                                        </div>\r\n                                ))\r\n                        )}\r\n                </div>\r\n        );\r\n};\r\n\r\nexport default Cart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}