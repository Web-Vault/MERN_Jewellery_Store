{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{ShoppingCart,Heart,CheckCircle,Star,Gem,User,PenTool,ScrollText,Sparkle,ThumbsUp,MessageCircle}from'lucide-react';import RecommendedProducts from\"../components/RecommendedProducts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SingleProduct=()=>{var _product$occasion,_product$tags;const{id}=useParams();// Extract product ID from URL\nconst[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[message,setMessage]=useState(\"\");// State for feedback messages\nconst[reviews,setReviews]=useState([]);// temporary\n// const reviews = [\n//         {\n//                 id: 1,\n//                 user: \"John Doe\",\n//                 rating: 5,\n//                 comment: \"Amazing product! Totally worth the price.\",\n//                 date: \"2024-03-07\",\n//         },\n//         {\n//                 id: 2,\n//                 user: \"Jane Smith\",\n//                 rating: 4,\n//                 comment: \"Great quality, but the delivery took longer than expected.\",\n//                 date: \"2024-03-06\",\n//         },\n//         {\n//                 id: 3,\n//                 user: \"David Johnson\",\n//                 rating: 3,\n//                 comment: \"Good, but expected better packaging.\",\n//                 date: \"2024-03-05\",\n//         },\n// ];\n// Fetch product data from the backend using fetch\nuseEffect(()=>{const fetchProduct=async()=>{console.log(\"Fetched ID:\",id);// Log the ID to ensure it's correct\ntry{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id));const data=await response.json();// Parse the JSON data\nconsole.log(\"Fetched Product Data:\",data);// Log the fetched data\nif(data){setProduct(data);setLoading(false);}else{setError(data.message||\"Product not found\");setLoading(false);}}catch(err){console.error(\"Error fetching product:\",err);// Log any error\nsetError(\"Product not found or server error\");setLoading(false);}finally{setLoading(false);}};const fetchReviews=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/reviews/product/\").concat(id));setReviews(response.data);console.log(\"data before setting review: \",response.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Error fetching reviews.\");}};fetchProduct();fetchReviews();},[id]);// Function to add product to cart\nconst handleAddToCart=async()=>{const userId=localStorage.getItem(\"userId\");const token=localStorage.getItem(\"userToken\");if(!userId||!token){setMessage(\"⚠️ Please log in to add items to the cart.\");hideMessage();return;}console.log(\"Sending request to add product:\",{userId,productId:id});try{const response=await fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/cart/add\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({userId,productId:id})});const data=await response.json();console.log(\"Response from server:\",data);if(response.ok){setMessage(\"✅ Added to cart successfully!\");}else{setMessage(\"\\u274C \".concat(data.message||\"Error adding to cart\"));}}catch(error){console.error(\"Error adding to cart:\",error);setMessage(\"❌ Server error while adding to cart.\");}hideMessage();};const handleAddToWishlist=async()=>{const token=localStorage.getItem(\"userToken\");if(!token){setMessage(\"⚠️ Please log in to add items to your wishlist.\");hideMessage();return;}try{const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/wishlist/add/\").concat(id),{},{headers:{Authorization:\"Bearer \".concat(token)}});console.log(\"Wishlist response:\",response.data);setMessage(\"❤️ Added to wishlist!\");}catch(error){var _error$response,_error$response$data;setMessage(\"\\u274C \".concat(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Failed to add to wishlist.\"));}hideMessage();};// Function to hide message after 3 seconds\nconst hideMessage=()=>{setTimeout(()=>{setMessage(\"\");},3000);};console.log(\"product reviews: \",reviews);const products=[{id:1,name:\"Product 1\",price:\"$99.99\",image:\"/product_images/product-1.webp\"},{id:2,name:\"Product 2\",price:\"$109.99\",image:\"/product_images/product-2.webp\"},{id:3,name:\"Product 3\",price:\"$89.99\",image:\"/product_images/product-3.webp\"},{id:4,name:\"Product 4\",price:\"$79.99\",image:\"/product_images/product-4.webp\"}];if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-10 text-red-600\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"relative min-h-screen bg-[#FAF6F0] overflow-hidden mt-[60px] px-6 py-12\",children:[product&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden flex flex-col lg:flex-row gap-12 p-8 border border-[#E0D6CC]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:w-1/2 relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-[#B76E79]/10 to-[#C5A880]/10 rounded-3xl blur-xl\"}),/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.name,className:\"w-full h-[600px] object-contain transform group-hover:scale-105 transition-transform duration-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-6 left-6 bg-[#B76E79]/90 text-white px-6 py-2 rounded-full text-sm font-medium shadow-lg backdrop-blur-sm\",children:\"Luxury Collection\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:w-1/2 flex flex-col justify-between space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-serif text-[#6B4E4D] tracking-tight\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-medium text-[#B76E79] border-b border-[#E0D6CC] pb-2\",children:[/*#__PURE__*/_jsx(ScrollText,{className:\"w-5 h-5 inline-block mr-2\"}),\"Product Story\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-[#6B4E4D]/80 leading-relaxed\",children:product.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-left gap-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-4xl font-bold text-[#B76E79]\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 mt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[product.metal&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#9D8B7B] uppercase tracking-wide\",children:\"Crafting material\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-[#6B4E4D]\",children:product.metal})]}),((_product$occasion=product.occasion)===null||_product$occasion===void 0?void 0:_product$occasion.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#9D8B7B] uppercase tracking-wide\",children:\"Occasions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-[#6B4E4D]\",children:product.occasion.join(\", \")})]}),product.gender&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#9D8B7B] uppercase tracking-wide\",children:\"Specially for\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-[#6B4E4D]\",children:product.gender})]})]}),((_product$tags=product.tags)===null||_product$tags===void 0?void 0:_product$tags.length)>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm text-[#B76E79] font-medium uppercase mb-2\",children:\"Tags\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:product.tags.map((tag,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-[#FFF9F5] border border-[#E0D6CC] text-[#6B4E4D] px-4 py-1 rounded-full text-sm hover:bg-[#FAF2EB]\",children:tag},i))})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddToCart,className:\"flex-1 flex items-center justify-center gap-2 bg-gradient-to-br from-[#B76E79] to-[#C5A880] text-white py-4 px-8 rounded-xl hover:shadow-lg transition-all\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-5 h-5\"}),\"Add to Cart\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddToWishlist,className:\"flex-1 flex items-center justify-center gap-2 border-2 border-[#B76E79] text-[#B76E79] py-4 px-8 rounded-xl hover:bg-[#B76E79]/10 transition-colors\",children:[/*#__PURE__*/_jsx(Heart,{className:\"w-5 h-5\"}),\"Wishlist\"]})]}),message&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-emerald-100 text-emerald-700 rounded-lg flex items-center gap-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5\"}),message]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto mt-12 bg-white/90 backdrop-blur-lg p-8 rounded-2xl shadow-xl border border-[#E0D6CC]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-6\",children:[/*#__PURE__*/_jsx(Gem,{className:\"w-8 h-8 text-[#B76E79]\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-serif text-[#6B4E4D]\",children:\"Collection Story\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#6B4E4D]/80 leading-relaxed\",children:\"Crafted with precision and passion, our Luxury Collection embodies timeless elegance. Each piece is meticulously designed by master artisans using ethically sourced materials, blending traditional craftsmanship with modern sophistication.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto mt-12 bg-white/90 backdrop-blur-lg p-8 rounded-2xl shadow-xl border border-[#E0D6CC]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-start mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-serif text-[#6B4E4D] mb-4 md:mb-0\",children:\"Client Testimonials\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center md:text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-[#6B4E4D]/80\",children:[product.numReviews,\" Verified Reviews\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\",children:[5,4,3,2,1].map(star=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 w-28 min-w-[7rem]\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[#6B4E4D] font-medium text-sm w-4 text-center\",children:star}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5 text-[#C5A880]\"}),star===5&&/*#__PURE__*/_jsx(Sparkle,{className:\"w-3 h-3 absolute -top-1 -right-1 text-[#D4AF37] animate-pulse\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-[#9D8B7B] ml-1\",children:[\"(\",reviews.filter(r=>r.rating===star).length,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative h-[14px] group-hover:h-4 transition-all duration-300 flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative flex-1 h-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-[#F5EFE8]/80 rounded-full overflow-hidden shadow-inner border border-[#F5EFE8]\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-gradient-to-r from-[#D8C4A8] via-[#C5A880] to-[#B76E79] rounded-full transition-all duration-700 ease-[cubic-bezier(0.33,1,0.68,1)] relative overflow-hidden\",style:{width:\"\".concat(Math.max(2,reviews.filter(r=>r.rating===star).length/reviews.length*100),\"%\"),boxShadow:'inset 0 1px 2px rgba(255,255,255,0.3)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(255,255,255,0.3)_50%,transparent_100%)] opacity-50 animate-shimmer\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 text-right\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-medium text-[#6B4E4D] tabular-nums\",children:[Math.round(reviews.filter(r=>r.rating===star).length/reviews.length*100),\"%\"]})})]})]},star))}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-8\",children:reviews.length>0?reviews.map(review=>/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-[#E0D6CC] pt-8 pb-6 group hover:bg-[#fff8f5]/30 transition-all duration-300 px-4 -mx-4 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-14 h-14 rounded-full bg-[#B76E79]/10 flex items-center justify-center \\r border-2 border-[#F5EFE8] group-hover:border-[#B76E79]/30 transition-all duration-300 shadow-sm\",children:/*#__PURE__*/_jsx(User,{className:\"w-7 h-7 text-[#B76E79] opacity-80 group-hover:opacity-100 transition-opacity\"})}),review.rating===5&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-sm\",children:/*#__PURE__*/_jsx(Sparkle,{className:\"w-4 h-4 text-[#D4AF37] animate-pulse\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-[#6B4E4D] text-lg group-hover:text-[#B76E79] transition-colors\",children:review.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(Star,{className:\"w-5 h-5 transition-all \".concat(i<review.rating?'text-[#C5A880] fill-current':'text-[#E0D6CC]')},i))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-[#9D8B7B] ml-auto\",children:new Date(review.createdAt).toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#6B4E4D]/90 leading-relaxed transition-all duration-300 \\r group-hover:pl-2 border-l-2 border-transparent group-hover:border-[#B76E79]/30\",children:review.comment}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-4 opacity-0 group-hover:opacity-100 transition-opacity\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"text-sm text-[#9D8B7B] hover:text-[#B76E79] flex items-center gap-1\",children:[/*#__PURE__*/_jsx(ThumbsUp,{className:\"w-4 h-4\"}),\"Helpful\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-sm text-[#9D8B7B] hover:text-[#B76E79] flex items-center gap-1\",children:[/*#__PURE__*/_jsx(MessageCircle,{className:\"w-4 h-4\"}),\"Reply\"]})]})]})]})},review._id)):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(PenTool,{className:\"w-12 h-12 text-[#B76E79] mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#6B4E4D]/80\",children:\"Be the first to share your experience\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#faf8f5] py-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-serif text-[#6B4E4D] text-center mb-16\",children:\"Our Curated Collections\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row gap-12\",children:/*#__PURE__*/_jsx(RecommendedProducts,{})})]})})]});};export default SingleProduct;//","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","ShoppingCart","Heart","CheckCircle","Star","Gem","User","PenTool","ScrollText","Sparkle","ThumbsUp","MessageCircle","RecommendedProducts","jsx","_jsx","jsxs","_jsxs","SingleProduct","_product$occasion","_product$tags","id","product","setProduct","loading","setLoading","error","setError","message","setMessage","reviews","setReviews","fetchProduct","console","log","response","fetch","concat","process","env","REACT_APP_API_URL","data","json","err","fetchReviews","get","_err$response","_err$response$data","handleAddToCart","userId","localStorage","getItem","token","hideMessage","productId","method","headers","Authorization","body","JSON","stringify","ok","handleAddToWishlist","post","_error$response","_error$response$data","setTimeout","products","name","price","image","className","children","src","images","alt","description","metal","occasion","length","join","gender","tags","map","tag","i","onClick","numReviews","star","filter","r","rating","style","width","Math","max","boxShadow","round","review","Array","_","Date","createdAt","toLocaleDateString","year","month","day","comment","_id"],"sources":["E:/projects/web/my-app/Frontend/src/pages/SingleProduct.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {\r\n        ShoppingCart,\r\n        Heart,\r\n        CheckCircle,\r\n        Star,\r\n        Gem,\r\n        User,\r\n        PenTool,\r\n        ScrollText,\r\n        Sparkle,\r\n        ThumbsUp,\r\n        MessageCircle,\r\n} from 'lucide-react';\r\nimport RecommendedProducts from \"../components/RecommendedProducts\";\r\n\r\nconst SingleProduct = () => {\r\n        const { id } = useParams(); // Extract product ID from URL\r\n        const [product, setProduct] = useState(null);\r\n        const [loading, setLoading] = useState(true);\r\n        const [error, setError] = useState(null);\r\n        const [message, setMessage] = useState(\"\"); // State for feedback messages\r\n        const [reviews, setReviews] = useState([]);\r\n\r\n        // temporary\r\n        // const reviews = [\r\n        //         {\r\n        //                 id: 1,\r\n        //                 user: \"John Doe\",\r\n        //                 rating: 5,\r\n        //                 comment: \"Amazing product! Totally worth the price.\",\r\n        //                 date: \"2024-03-07\",\r\n        //         },\r\n        //         {\r\n        //                 id: 2,\r\n        //                 user: \"Jane Smith\",\r\n        //                 rating: 4,\r\n        //                 comment: \"Great quality, but the delivery took longer than expected.\",\r\n        //                 date: \"2024-03-06\",\r\n        //         },\r\n        //         {\r\n        //                 id: 3,\r\n        //                 user: \"David Johnson\",\r\n        //                 rating: 3,\r\n        //                 comment: \"Good, but expected better packaging.\",\r\n        //                 date: \"2024-03-05\",\r\n        //         },\r\n        // ];\r\n\r\n\r\n        // Fetch product data from the backend using fetch\r\n        useEffect(() => {\r\n                const fetchProduct = async () => {\r\n                        console.log(\"Fetched ID:\", id); // Log the ID to ensure it's correct\r\n\r\n                        try {\r\n                                const response = await fetch(`${process.env.REACT_APP_API_URL}/api/products/${id}`);\r\n                                const data = await response.json(); // Parse the JSON data\r\n\r\n                                console.log(\"Fetched Product Data:\", data); // Log the fetched data\r\n\r\n                                if (data) {\r\n                                        setProduct(data);\r\n                                        setLoading(false);\r\n                                } else {\r\n                                        setError(data.message || \"Product not found\");\r\n                                        setLoading(false);\r\n                                }\r\n                        } catch (err) {\r\n                                console.error(\"Error fetching product:\", err); // Log any error\r\n                                setError(\"Product not found or server error\");\r\n                                setLoading(false);\r\n                        } finally {\r\n                                setLoading(false);\r\n                        }\r\n                };\r\n\r\n                const fetchReviews = async () => {\r\n                        try {\r\n                                const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/reviews/product/${id}`);\r\n                                setReviews(response.data);\r\n                                console.log(\"data before setting review: \", response.data);\r\n                        } catch (err) {\r\n                                setError(err.response?.data?.message || \"Error fetching reviews.\");\r\n                        }\r\n                };\r\n\r\n                fetchProduct();\r\n                fetchReviews();\r\n        }, [id]);\r\n\r\n        // Function to add product to cart\r\n        const handleAddToCart = async () => {\r\n                const userId = localStorage.getItem(\"userId\");\r\n                const token = localStorage.getItem(\"userToken\");\r\n\r\n                if (!userId || !token) {\r\n                        setMessage(\"⚠️ Please log in to add items to the cart.\");\r\n                        hideMessage();\r\n                        return;\r\n                }\r\n\r\n                console.log(\"Sending request to add product:\", { userId, productId: id });\r\n\r\n                try {\r\n                        const response = await fetch(`${process.env.REACT_APP_API_URL}/api/cart/add`, {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                        \"Content-Type\": \"application/json\",\r\n                                        Authorization: `Bearer ${token}`,\r\n                                },\r\n                                body: JSON.stringify({ userId, productId: id }),\r\n                        });\r\n\r\n                        const data = await response.json();\r\n                        console.log(\"Response from server:\", data);\r\n\r\n                        if (response.ok) {\r\n                                setMessage(\"✅ Added to cart successfully!\");\r\n                        } else {\r\n                                setMessage(`❌ ${data.message || \"Error adding to cart\"}`);\r\n                        }\r\n                } catch (error) {\r\n                        console.error(\"Error adding to cart:\", error);\r\n                        setMessage(\"❌ Server error while adding to cart.\");\r\n                }\r\n\r\n                hideMessage();\r\n        };\r\n\r\n        const handleAddToWishlist = async () => {\r\n                const token = localStorage.getItem(\"userToken\");\r\n\r\n                if (!token) {\r\n                        setMessage(\"⚠️ Please log in to add items to your wishlist.\");\r\n                        hideMessage();\r\n                        return;\r\n                }\r\n\r\n                try {\r\n                        const response = await axios.post(\r\n                                `${process.env.REACT_APP_API_URL}/api/wishlist/add/${id}`,\r\n                                {},\r\n                                {\r\n                                        headers: { Authorization: `Bearer ${token}` },\r\n                                }\r\n                        );\r\n\r\n                        console.log(\"Wishlist response:\", response.data);\r\n                        setMessage(\"❤️ Added to wishlist!\");\r\n                } catch (error) {\r\n                        setMessage(`❌ ${error.response?.data?.message || \"Failed to add to wishlist.\"}`);\r\n                }\r\n\r\n                hideMessage();\r\n        };\r\n\r\n        // Function to hide message after 3 seconds\r\n        const hideMessage = () => {\r\n                setTimeout(() => {\r\n                        setMessage(\"\");\r\n                }, 3000);\r\n        };\r\n\r\n        console.log(\"product reviews: \", reviews);\r\n\r\n        const products = [\r\n                { id: 1, name: \"Product 1\", price: \"$99.99\", image: \"/product_images/product-1.webp\" },\r\n                { id: 2, name: \"Product 2\", price: \"$109.99\", image: \"/product_images/product-2.webp\" },\r\n                { id: 3, name: \"Product 3\", price: \"$89.99\", image: \"/product_images/product-3.webp\" },\r\n                { id: 4, name: \"Product 4\", price: \"$79.99\", image: \"/product_images/product-4.webp\" },\r\n        ];\r\n\r\n\r\n        if (loading) return <div className=\"text-center py-10\">Loading...</div>;\r\n        if (error) return <div className=\"text-center py-10 text-red-600\">{error}</div>;\r\n\r\n        return (\r\n                <div className=\"relative min-h-screen bg-[#FAF6F0] overflow-hidden mt-[60px] px-6 py-12\">\r\n                        {/* Product Main Section */}\r\n                        {product && (\r\n                                <div className=\"max-w-7xl mx-auto bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden flex flex-col lg:flex-row gap-12 p-8 border border-[#E0D6CC]\">\r\n                                        {/* Product Image Section */}\r\n                                        <div className=\"lg:w-1/2 relative group\">\r\n                                                <div className=\"absolute inset-0 bg-gradient-to-br from-[#B76E79]/10 to-[#C5A880]/10 rounded-3xl blur-xl\"></div>\r\n                                                <img\r\n                                                        src={product.images[0]}\r\n                                                        alt={product.name}\r\n                                                        className=\"w-full h-[600px] object-contain transform group-hover:scale-105 transition-transform duration-500\"\r\n                                                />\r\n                                                <div className=\"absolute top-6 left-6 bg-[#B76E79]/90 text-white px-6 py-2 rounded-full text-sm font-medium shadow-lg backdrop-blur-sm\">\r\n                                                        Luxury Collection\r\n                                                </div>\r\n                                        </div>\r\n\r\n                                        {/* Product Details Section */}\r\n                                        <div className=\"lg:w-1/2 flex flex-col justify-between space-y-8\">\r\n                                                <div className=\"space-y-6\">\r\n                                                        <h2 className=\"text-4xl font-serif text-[#6B4E4D] tracking-tight\">{product.name}</h2>\r\n\r\n                                                        {/* Product Description Section */}\r\n                                                        <div className=\"space-y-4\">\r\n                                                                <h3 className=\"text-xl font-medium text-[#B76E79] border-b border-[#E0D6CC] pb-2\">\r\n                                                                        <ScrollText className=\"w-5 h-5 inline-block mr-2\" />\r\n                                                                        Product Story\r\n                                                                </h3>\r\n                                                                <p className=\"text-lg text-[#6B4E4D]/80 leading-relaxed\">\r\n                                                                        {product.description}\r\n                                                                </p>\r\n                                                        </div>\r\n\r\n                                                        {/* Price & Rating */}\r\n                                                        <div className=\"flex flex-col items-left gap-4\">\r\n                                                                <span className=\"text-4xl font-bold text-[#B76E79]\">${product.price}</span>\r\n\r\n                                                                <div className=\"space-y-6 mt-8\">\r\n\r\n    {/* Highlighted Attributes in Cards */}\r\n    <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n        {product.metal && (\r\n            <div className=\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\">\r\n                <p className=\"text-sm text-[#9D8B7B] uppercase tracking-wide\">Crafting material</p>\r\n                <p className=\"text-lg font-semibold text-[#6B4E4D]\">{product.metal}</p>\r\n            </div>\r\n        )}\r\n        {product.occasion?.length > 0 && (\r\n            <div className=\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\">\r\n                <p className=\"text-sm text-[#9D8B7B] uppercase tracking-wide\">Occasions</p>\r\n                <p className=\"text-lg font-semibold text-[#6B4E4D]\">{product.occasion.join(\", \")}</p>\r\n            </div>\r\n        )}\r\n        {product.gender && (\r\n            <div className=\"bg-[#F5EFE8] p-4 rounded-xl shadow-sm border border-[#E0D6CC] text-center\">\r\n                <p className=\"text-sm text-[#9D8B7B] uppercase tracking-wide\">Specially for</p>\r\n                <p className=\"text-lg font-semibold text-[#6B4E4D]\">{product.gender}</p>\r\n            </div>\r\n        )}\r\n    </div>\r\n\r\n    {/* Tags Cloud */}\r\n    {product.tags?.length > 0 && (\r\n        <div>\r\n            <h4 className=\"text-sm text-[#B76E79] font-medium uppercase mb-2\">Tags</h4>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n                {product.tags.map((tag, i) => (\r\n                    <span\r\n                        key={i}\r\n                        className=\"bg-[#FFF9F5] border border-[#E0D6CC] text-[#6B4E4D] px-4 py-1 rounded-full text-sm hover:bg-[#FAF2EB]\"\r\n                    >\r\n                        {tag}\r\n                    </span>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )}\r\n</div>\r\n\r\n                                                        </div>\r\n                                                </div>\r\n\r\n\r\n                                                {/* Action Buttons */}\r\n                                                <div className=\"flex flex-col sm:flex-row gap-4\">\r\n                                                        <button\r\n                                                                onClick={handleAddToCart}\r\n                                                                className=\"flex-1 flex items-center justify-center gap-2 bg-gradient-to-br from-[#B76E79] to-[#C5A880] text-white py-4 px-8 rounded-xl hover:shadow-lg transition-all\"\r\n                                                        >\r\n                                                                <ShoppingCart className=\"w-5 h-5\" />\r\n                                                                Add to Cart\r\n                                                        </button>\r\n                                                        <button\r\n                                                                onClick={handleAddToWishlist}\r\n                                                                className=\"flex-1 flex items-center justify-center gap-2 border-2 border-[#B76E79] text-[#B76E79] py-4 px-8 rounded-xl hover:bg-[#B76E79]/10 transition-colors\"\r\n                                                        >\r\n                                                                <Heart className=\"w-5 h-5\" />\r\n                                                                Wishlist\r\n                                                        </button>\r\n                                                </div>\r\n                                                {message && (\r\n                                                        <div className=\"mt-4 p-3 bg-emerald-100 text-emerald-700 rounded-lg flex items-center gap-2\">\r\n                                                                <CheckCircle className=\"w-5 h-5\" />\r\n                                                                {message}\r\n                                                        </div>\r\n                                                )}\r\n                                        </div>\r\n                                </div>\r\n                        )}\r\n\r\n                        {/* Category Description */}\r\n                        <div className=\"max-w-7xl mx-auto mt-12 bg-white/90 backdrop-blur-lg p-8 rounded-2xl shadow-xl border border-[#E0D6CC]\">\r\n                                <div className=\"flex items-center gap-4 mb-6\">\r\n                                        <Gem className=\"w-8 h-8 text-[#B76E79]\" />\r\n                                        <h3 className=\"text-2xl font-serif text-[#6B4E4D]\">Collection Story</h3>\r\n                                </div>\r\n                                <p className=\"text-[#6B4E4D]/80 leading-relaxed\">\r\n                                        Crafted with precision and passion, our Luxury Collection embodies timeless elegance. Each piece is\r\n                                        meticulously designed by master artisans using ethically sourced materials, blending traditional\r\n                                        craftsmanship with modern sophistication.\r\n                                </p>\r\n                        </div>\r\n\r\n                        {/* Product Reviews */}\r\n                        <div className=\"max-w-7xl mx-auto mt-12 bg-white/90 backdrop-blur-lg p-8 rounded-2xl shadow-xl border border-[#E0D6CC]\">\r\n                                <div className=\"flex flex-col md:flex-row justify-between items-start mb-8\">\r\n                                        <h2 className=\"text-2xl font-serif text-[#6B4E4D] mb-4 md:mb-0\">Client Testimonials</h2>\r\n                                        <div className=\"text-center md:text-right\">\r\n                                                {/* <div className=\"text-3xl font-bold text-[#B76E79]\">{product.rating?.toFixed(1) || 0}</div> */}\r\n                                                <p className=\"text-[#6B4E4D]/80\">{product.numReviews} Verified Reviews</p>\r\n                                        </div>\r\n                                </div>\r\n\r\n                                {/* Rating Breakdown */}\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12\">\r\n                                        {[5, 4, 3, 2, 1].map((star) => (\r\n                                                <div key={star} className=\"flex items-center gap-4 group\">\r\n                                                        {/* Star Rating Label */}\r\n                                                        <div className=\"flex items-center gap-2 w-28 min-w-[7rem]\">\r\n                                                                <span className=\"text-[#6B4E4D] font-medium text-sm w-4 text-center\">\r\n                                                                        {star}\r\n                                                                </span>\r\n                                                                <div className=\"relative\">\r\n                                                                        <Star className=\"w-5 h-5 text-[#C5A880]\" />\r\n                                                                        {star === 5 && (\r\n                                                                                <Sparkle className=\"w-3 h-3 absolute -top-1 -right-1 text-[#D4AF37] animate-pulse\" />\r\n                                                                        )}\r\n                                                                </div>\r\n                                                                <span className=\"text-xs text-[#9D8B7B] ml-1\">\r\n                                                                        ({reviews.filter(r => r.rating === star).length})\r\n                                                                </span>\r\n                                                        </div>\r\n\r\n                                                        {/* Progress Bar Container */}\r\n                                                        <div className=\"flex-1 relative h-[14px] group-hover:h-4 transition-all duration-300 flex items-center gap-4\">\r\n                                                                {/* Track */}\r\n                                                                <div className=\"relative flex-1 h-full\">\r\n                                                                        {/* Background Track */}\r\n                                                                        <div className=\"absolute inset-0 bg-[#F5EFE8]/80 rounded-full overflow-hidden shadow-inner border border-[#F5EFE8]\">\r\n                                                                                {/* Progress Fill */}\r\n                                                                                <div\r\n                                                                                        className=\"h-full bg-gradient-to-r from-[#D8C4A8] via-[#C5A880] to-[#B76E79] rounded-full transition-all duration-700 ease-[cubic-bezier(0.33,1,0.68,1)] relative overflow-hidden\"\r\n                                                                                        style={{\r\n                                                                                                width: `${Math.max(2, (reviews.filter(r => r.rating === star).length / reviews.length) * 100)}%`,\r\n                                                                                                boxShadow: 'inset 0 1px 2px rgba(255,255,255,0.3)'\r\n                                                                                        }}\r\n                                                                                >\r\n                                                                                        {/* Shimmer Effect */}\r\n                                                                                        <div className=\"absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(255,255,255,0.3)_50%,transparent_100%)] opacity-50 animate-shimmer\" />\r\n                                                                                </div>\r\n                                                                        </div>\r\n                                                                </div>\r\n\r\n                                                                {/* Percentage Indicator - Always Visible */}\r\n                                                                <div className=\"w-10 text-right\">\r\n                                                                        <span className=\"text-xs font-medium text-[#6B4E4D] tabular-nums\">\r\n                                                                                {Math.round((reviews.filter(r => r.rating === star).length / reviews.length) * 100)}%\r\n                                                                        </span>\r\n                                                                </div>\r\n                                                        </div>\r\n                                                </div>\r\n                                        ))}\r\n                                </div>\r\n\r\n                                {/* Reviews List */}\r\n                                <div className=\"space-y-8\">\r\n                                        {reviews.length > 0 ? reviews.map((review) => (\r\n                                                <div\r\n                                                        key={review._id}\r\n                                                        className=\"border-t border-[#E0D6CC] pt-8 pb-6 group hover:bg-[#fff8f5]/30 transition-all duration-300 px-4 -mx-4 rounded-lg\"\r\n                                                >\r\n                                                        <div className=\"flex items-start gap-5\">\r\n                                                                {/* User Avatar with Animation */}\r\n                                                                <div className=\"relative\">\r\n                                                                        <div className=\"w-14 h-14 rounded-full bg-[#B76E79]/10 flex items-center justify-center \r\n          border-2 border-[#F5EFE8] group-hover:border-[#B76E79]/30 transition-all duration-300 shadow-sm\">\r\n                                                                                <User className=\"w-7 h-7 text-[#B76E79] opacity-80 group-hover:opacity-100 transition-opacity\" />\r\n                                                                        </div>\r\n                                                                        {review.rating === 5 && (\r\n                                                                                <div className=\"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-sm\">\r\n                                                                                        <Sparkle className=\"w-4 h-4 text-[#D4AF37] animate-pulse\" />\r\n                                                                                </div>\r\n                                                                        )}\r\n                                                                </div>\r\n\r\n                                                                {/* Review Content */}\r\n                                                                <div className=\"flex-1\">\r\n                                                                        <div className=\"flex flex-wrap items-center gap-3 mb-3\">\r\n                                                                                <h4 className=\"font-medium text-[#6B4E4D] text-lg group-hover:text-[#B76E79] transition-colors\">\r\n                                                                                        {review.name}\r\n                                                                                </h4>\r\n\r\n                                                                                {/* Rating Stars with Enhanced Styling */}\r\n                                                                                <div className=\"flex items-center gap-1\">\r\n                                                                                        {[...Array(5)].map((_, i) => (\r\n                                                                                                <Star\r\n                                                                                                        key={i}\r\n                                                                                                        className={`w-5 h-5 transition-all ${i < review.rating ?\r\n                                                                                                                'text-[#C5A880] fill-current' :\r\n                                                                                                                'text-[#E0D6CC]'}`}\r\n                                                                                                />\r\n                                                                                        ))}\r\n                                                                                </div>\r\n\r\n                                                                                {/* Review Date */}\r\n                                                                                <span className=\"text-sm text-[#9D8B7B] ml-auto\">\r\n                                                                                        {new Date(review.createdAt).toLocaleDateString('en-US', {\r\n                                                                                                year: 'numeric',\r\n                                                                                                month: 'short',\r\n                                                                                                day: 'numeric'\r\n                                                                                        })}\r\n                                                                                </span>\r\n                                                                        </div>\r\n\r\n                                                                        {/* Review Comment with Smooth Appearance */}\r\n                                                                        <p className=\"text-[#6B4E4D]/90 leading-relaxed transition-all duration-300 \r\n          group-hover:pl-2 border-l-2 border-transparent group-hover:border-[#B76E79]/30\">\r\n                                                                                {review.comment}\r\n                                                                        </p>\r\n\r\n                                                                        {/* Helpful Actions */}\r\n                                                                        <div className=\"flex items-center gap-4 mt-4 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                                                                <button className=\"text-sm text-[#9D8B7B] hover:text-[#B76E79] flex items-center gap-1\">\r\n                                                                                        <ThumbsUp className=\"w-4 h-4\" />\r\n                                                                                        Helpful\r\n                                                                                </button>\r\n                                                                                <button className=\"text-sm text-[#9D8B7B] hover:text-[#B76E79] flex items-center gap-1\">\r\n                                                                                        <MessageCircle className=\"w-4 h-4\" />\r\n                                                                                        Reply\r\n                                                                                </button>\r\n                                                                        </div>\r\n                                                                </div>\r\n                                                        </div>\r\n                                                </div>\r\n                                        )) : (\r\n                                                <div className=\"text-center py-12\">\r\n                                                        <PenTool className=\"w-12 h-12 text-[#B76E79] mx-auto mb-4\" />\r\n                                                        <p className=\"text-[#6B4E4D]/80\">Be the first to share your experience</p>\r\n                                                </div>\r\n                                        )}\r\n                                </div>\r\n                        </div>\r\n\r\n                        {/* Featured Collection */}\r\n                        <div className=\"bg-[#faf8f5] py-20\">\r\n                                <div className=\"max-w-7xl mx-auto px-6\">\r\n                                        <h2 className=\"text-3xl font-serif text-[#6B4E4D] text-center mb-16\">\r\n                                                Our Curated Collections\r\n                                        </h2>\r\n                                        <div className=\"flex flex-col md:flex-row gap-12\">\r\n                                                {/* Grid Layout */}\r\n                                                <RecommendedProducts />\r\n                                        </div>\r\n                                </div>\r\n                        </div>\r\n                </div>\r\n        );\r\n\r\n};\r\n\r\nexport default SingleProduct;\r\n\r\n\r\n// \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}